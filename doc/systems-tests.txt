Systems Tests

Contents
    Bugs
        Due
        Fixed
    General Use Tests
        Preparations
        Login Tests
        User Editing Tests
            Model Details Input
                User Authors
                External Authors
                References
                Model Details Completion
                Editing Permissions
    In-Flight Tests: Edit, New and Read-only Modes
        Drawing - Edit Modes
    Model Save and Load

<h1>Bugs

<h2>Due

    * Page Details button not displayed when Leave option clicked on Model Details

    * Page Details button still displayed after Cancel button clicked

    * User author not given option to edit the selected model

    Check-out Dismiss on flow-link, remove all details

<h2>Fixed

    07/08/2024
    
    * Missing reference Title not checked for on reference submit

    * Clicking on an external author does not delete it

    * Clicking on a user author deletes the wrong entry

    * Prevent deletion of the current user

    -----------------------------------------------------------------

    * Adjust length of flow line segment to fit between markers (not 
    overlapping marker)

    * Adjust flow line width for editing to 3

        Amend
            * DrawFlow
            * InsertFlowNode
            * DeleteFlowNode
            * Drag Marker
            * Display as editable flow
            * Flow Done

    * Sort-out flow arrow direction

    * Width of flow labels

    * Problem with delete Node

    * Delete button shown on undefined node

    * Word-wrap for node label

    * Word-wrap for flow label

    * Maximum length for labels

<h1>General Use Tests

<h2>Preparations

    Clear all of the tables in the database (user included) except the editor_key table.

<h2>Login Tests
    * Click the login menu option
    * Ensure that the owner option appears
    * Login as owner - warner1, welcome123
    * Logout
    * Click the login menu option
    * Ensure that the owner option does not appear
    * Sign-up as an editor warner2, welcome223
    * Logout
    * Click the login menu option
    * Register as a user warner3, welcome323
    * Logout
    * Click the login menu option
    * Click login
    * Enter an invalid username and password
    * Check that an error is reported
    * Clear the username and password fields and click Submit
    * Ensure that an error message is displayed.
    * Login as warner3
    * Click the login option
    * Ensure the signup as editor button appears
    * Signup as editor using existing login 
    * Ensure an error message appears
    * Signup as editor warner4, welcome423

<h2>User Editing Tests
<h3>Model Details Input
    * Login as User - warner3
    * Ensure that the new, import options appear
    * Click the new option
    * Ensure that model details modal appears
    * Click the Submit button
    * Ensure that there is no effect 
    * Click the Dismiss button
    * Ensure that the modal is cleared
    * Click the New button again
    * Enter a description but no title
    * Click the Submit button
    * Ensure that there is no effect
    * Enter a title
    * Click the Submit button
    * Ensure that the title and description are ticked
    * Ensure that the editing instructions appear at the top of the Stage

<h4>User Authors
    * Ensure that the User Authors, External Authors and References options are displayed
    * Enter some keywords
    * Click the Submit button again
    * Ensure that keywords are ticked
    * Click the User Authors button
    * Ensure that the current user is listed
    * Enter the user warner4
    * Click submit author
    * Ensure that the user is added to the list
    * Ensure that the submit author button is ticked
    * Click on the warner4 entry to delete it
    * Ensure that the warner4 entry is cleared
    * Enter a non-existent username
    * Click Submit Author
    * Ensure that the username not found message is displayed
    * Click the user authors option
    * Ensure that the user authors list is retracted

<h4>External Authors
    * Click the External Authors button
    * Ensure that the author entry details are displayed
    * Enter an author name
    * Click Submit Author
    * Ensure that the entry is added to the list
    * Enter another Author
    * Click Submit Author
    * Ensure that the entry is added to the list
    * Click a list entry
    * Ensure that it is deleted from the list
    * Click the other list entry
    * Ensure that the list is cleared
    * Click on the external authors option
    * Ensure that the list is retracted

<h4>References
    * Click on the References option
    * Ensure that the reference form is displayed
    * Complete all three fields
    * Click on the Submit Reference option
    * Ensure that the reference is added to the list
    * Leave the Reference form blank
    * Click on the Submit Reference button
    * Ensure that nothing happens
    * Complete the Title field
    * Click on the Submit Reference button
    * Ensure that the entry appears in the list
    * Click an entry on the reference list
    * Ensure that it is deleted from the list
    * Enter the Source field
    * Click on the Submit Reference button
    * Ensure that nothing happens

<h4>Model Details Completion
    * Login as user
    * Enter a title, description and keywords
    * Click Submit
    * Ensure that the fields are ticked
    * Click the User Authors option
    * Enter warner4
    * Click Submit Author
    * Ensure that the user is added to the list
    * Click the User Authors option
    * Ensure that the list is closed-up
    * Click the External Authors Option
    * Enter the name of an author
    * Click the Submit Author option
    * Ensure that the name is added to the list
    * Click the External Authors button
    * Ensure that the External Authors list is closed-up
    * Click the References button
    * Enter the Source, Author and Title fields
    * Click the Submit Reference button
    * Ensure that the entry is added to the list
    * Click the Leave button
    * Ensure that the Page Details button is displayed
    * Ensure that the New, Save and Cancel options appear in the options panel
    * Click the Page Details button
    * Ensure that all details are present as entered
    * Ensure that the model details are editable
    * Click the Save button
    * Ensure that the model is added to the selection list
    * Click the Cancel button
    * Ensure that only the New Button is Displayed
    * Ensure that the Page Details button is no longer displayed
    * Click the entry in the Model Selection list
    * Ensure that Model Details for that model are displayed
    * Ensure that the Edit Model button is displayed
    * Click the Edit Model button
    * Ensure that the Model Details can be edited
    * Click Leave

<h3>Editing Permissions
    * Logout from warner3
    * Login as warner4
    * Click the New Button
    * Create a model details entry
    * Click the Leave button
    * Click the Save button
    * Logout from warner4
    * Login as warner3
    * Select the model created as user warner4
    * Ensure that the model is presented in read-only mode
    * Ensure that the Edit Model button is hidden
    * Click the Dismiss button
    * Logout
    * Login as owner warner1
    * Click the Page Details button
    * Ensure that the Edit Model button is visible
    * Click the Edit Model button
    * Ensure that details edits can be made




<h1>In-Flight Tests: Edit, New and Read-only Modes
    Check the editing modes and operation when the "New" button
    is clicked

    Test New model
        * Does the save button appear after the first edit.
        Is the edit mode set after details submission effective?

    Load a page using the selector and check whether the appropriate
    editing mode applies test:
        * Edit Button
        * Edit Mode Button
        * Make a change to the current model

    Model Edit Effects:
        Initial / Empty Display
            The model edit mode is "read-only"
            The edit button is absent
            The page details button is absent
            The New button is present if the user is authorised

        New Button clicked: (Modal Loads)
            New Model Start
                If an existing model is loaded and edit mode is "edit" and changes made
                    * Show Save Modal
                        Yes
                            * Save the current model
                            * Clear the model details etc.
                        * No
                        * Cancel
                * Only the model details are displayed
                * All data cleared
                * Submission Ticks Cleared 
                * The model edit mode is new
                * Edit Button Absent
                * Edit Mode Button Absent
                * Enable Editing

            New Model Details submit (valid)
                * Author etc have visible input forms
                * Model Edit Mode - Edit
                * User Author Toggle visible
                * External Author Toggle visible
                * Reference Toggle visible
                * Edit Button Absent
                * Edit Mode Button Absent

            Dismiss/Leave Button Clicked
                * Hide the Modal
                * If model edit mode is "new"
                    * set the Model Edit Mode to "read-only"
                * Else if the model edit mode is "read-only"
                    * No Further Action
                * Else
                    * No Further Action

        Model Selected
            If model already present
                Prompt (modal) for save
                    Yes
                       * Save before loading
                    No
                        * Continue with loading
                    Cancel
                        * Clear the modal 
                        * No further Action
            * Model Load
            * Set model edit mode to "read-only"
            * If the user is qualified
                * Display edit mode option
                * Display Edit button
            * Display all model details with editing disabled
            * Clear all submission ticks

        Edit Mode Selected (on the modal)
            * Enable field editing
            * Set the Model Edit mode to "edit"
            * Hide the Edit options

        Edit Option Selected
            * Set the Model Edit Mode to "edit"
            * Clear the submission ticks
            * Load the Model Details Modal with all details visible and editing enabled
            * Hide the Edit Mode button
            * Hide the Edit Button

        Page Details option
            * If the edit mode is "read-only"
                * Display the model details as for Model Selected
            * Otherwise
                * Display the full details of the model as for Edit Option
                
<h2>Drawing - Edit Modes

    When Draw Flow is selected the dfm.currentVisuals.flowDrawMode is set.
    In this case check the following:
        Other flow labels - read only mode
        Node details - read only mode
        Stage - add flow label only

<h1>Model Save and Load
    Save a model
        * Check the validity of data combinations, save and restore

    * Update Save a model

    * Select a model and ensure that all the data is present and correct

    Load a model then load another
        * Non-edit mode
        Edit-mode Save on Select
            * Yes - Save
            * Don't Save
            * Cancel
